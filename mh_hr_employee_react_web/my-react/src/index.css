@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Modern Purple Gradient Theme - Inspired by Flutter App */

    /* Primary Colors - Purple Gradient */
    --primary-purple: 99 102 241; /* #6366F1 - Indigo-500 */
    --primary-purple-dark: 79 70 229; /* #4F46E5 - Indigo-600 */
    --primary-purple-light: 129 140 248; /* #818CF8 - Indigo-400 */
    --secondary-purple: 139 92 246; /* #8B5CF6 - Purple-500 */

    /* Secondary Colors */
    --secondary-cyan: 6 182 212; /* #06B6D4 - Cyan-500 */
    --accent-pink: 236 72 153; /* #EC4899 - Pink-500 */

    /* Status Colors */
    --success: 16 185 129; /* #10B981 - Emerald-500 */
    --success-dark: 5 150 105; /* #059669 - Emerald-600 */
    --error: 239 68 68; /* #EF4444 - Red-500 */
    --warning: 245 158 11; /* #F59E0B - Amber-500 */
    --info: 59 130 246; /* #3B82F6 - Blue-500 */

    /* Glassmorphism */
    --glass-light: 255 255 255; /* White with opacity */
    --glass-dark: 0 0 0; /* Black with opacity */
    --glass-border: 255 255 255; /* White border with opacity */

    /* Light Theme */
    --background: 248 250 252; /* #F8FAFC - Slate-50 */
    --foreground: 15 23 42; /* #0F172A - Slate-900 */

    --card: 255 255 255; /* White */
    --card-foreground: 15 23 42; /* Slate-900 */

    --surface: 241 245 249; /* #F1F5F9 - Slate-100 */
    --surface-variant: 226 232 240; /* #E2E8F0 - Slate-200 */

    --primary: var(--primary-purple);
    --primary-foreground: 255 255 255;

    --secondary: var(--secondary-cyan);
    --secondary-foreground: 255 255 255;

    --muted: 241 245 249; /* Slate-100 */
    --muted-foreground: 100 116 139; /* Slate-500 */

    --accent: var(--accent-pink);
    --accent-foreground: 255 255 255;

    --destructive: var(--error);
    --destructive-foreground: 255 255 255;

    --border: 226 232 240; /* Slate-200 */
    --input: 226 232 240;
    --ring: var(--primary-purple);

    --text-primary: 15 23 42; /* Slate-900 */
    --text-secondary: 71 85 105; /* Slate-600 */
    --text-hint: 100 116 139; /* Slate-500 */

    --radius: 12px; /* Standard border radius */
  }

  .dark {
    /* Dark Theme (Default) - Matching Flutter App */
    --background: 15 23 42; /* #0F172A - Slate-900 */
    --foreground: 241 245 249; /* #F1F5F9 - Slate-100 */

    --card: 30 41 59; /* #1E293B - Slate-800 */
    --card-foreground: 241 245 249; /* Slate-100 */

    --surface: 30 41 59; /* Slate-800 */
    --surface-variant: 51 65 85; /* #334155 - Slate-700 */

    --primary: var(--primary-purple);
    --primary-foreground: 255 255 255;

    --secondary: var(--secondary-cyan);
    --secondary-foreground: 255 255 255;

    --muted: 51 65 85; /* Slate-700 */
    --muted-foreground: 148 163 184; /* Slate-400 */

    --accent: var(--accent-pink);
    --accent-foreground: 255 255 255;

    --destructive: var(--error);
    --destructive-foreground: 255 255 255;

    --border: 51 65 85; /* Slate-700 */
    --input: 51 65 85;
    --ring: var(--primary-purple);

    --text-primary: 241 245 249; /* Slate-100 */
    --text-secondary: 148 163 184; /* Slate-400 */
    --text-hint: 100 116 139; /* Slate-500 */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
}

@layer utilities {
  /* Gradient utilities matching Flutter app */
  .gradient-purple {
    background: linear-gradient(135deg, rgb(var(--primary-purple)) 0%, rgb(var(--secondary-purple)) 100%);
  }

  .gradient-purple-hover {
    background: linear-gradient(135deg, rgb(var(--primary-purple-dark)) 0%, rgb(var(--secondary-purple)) 100%);
  }

  .gradient-cyan {
    background: linear-gradient(135deg, rgb(var(--secondary-cyan)) 0%, rgb(var(--info)) 100%);
  }

  .gradient-success {
    background: linear-gradient(135deg, rgb(var(--success)) 0%, rgb(var(--success-dark)) 100%);
  }

  .gradient-warning {
    background: linear-gradient(135deg, rgb(var(--warning)) 0%, rgb(var(--error)) 100%);
  }

  .gradient-pink {
    background: linear-gradient(135deg, rgb(var(--accent-pink)) 0%, rgb(245 158 11) 100%);
  }

  /* Glassmorphic card */
  .glass-card {
    background: rgba(var(--glass-light), 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1.5px solid rgba(var(--glass-border), 0.2);
  }

  .dark .glass-card {
    background: rgba(var(--glass-light), 0.05);
    border: 1.5px solid rgba(var(--glass-border), 0.1);
  }

  /* Colored glow shadows */
  .glow-purple {
    box-shadow: 0 4px 20px rgba(var(--primary-purple), 0.3);
  }

  .glow-cyan {
    box-shadow: 0 4px 20px rgba(var(--secondary-cyan), 0.3);
  }

  .glow-success {
    box-shadow: 0 4px 20px rgba(var(--success), 0.3);
  }

  .glow-pink {
    box-shadow: 0 4px 20px rgba(var(--accent-pink), 0.3);
  }

  /* Animations */
  .animate-scale-in {
    animation: scaleIn 0.3s ease-out;
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Button press effect */
  .btn-press {
    transition: transform 0.1s ease;
  }

  .btn-press:active {
    transform: scale(0.95);
  }

  /* High Contrast Overrides for All Pages */
  /* Tables */
  table {
    @apply border-collapse;
  }

  thead {
    @apply bg-slate-100 dark:bg-slate-800;
  }

  th {
    @apply text-slate-900 dark:text-slate-100 font-semibold border-b-2 border-slate-300 dark:border-slate-600;
  }

  td {
    @apply text-slate-800 dark:text-slate-200 border-b border-slate-200 dark:border-slate-700;
  }

  tbody tr:hover {
    @apply bg-slate-50 dark:bg-slate-800/50;
  }

  /* Inputs and Form Controls */
  input:not([type="checkbox"]):not([type="radio"]),
  select,
  textarea {
    @apply bg-white dark:bg-slate-800
           border-2 border-slate-300 dark:border-slate-600
           text-slate-900 dark:text-slate-100
           placeholder:text-slate-500 dark:placeholder:text-slate-400;
  }

  input:focus,
  select:focus,
  textarea:focus {
    @apply border-primary-purple ring-2 ring-primary-purple/20 outline-none;
  }

  /* Buttons - High Contrast */
  button:not(.gradient-purple):not(.gradient-cyan):not(.gradient-success):not(.gradient-warning):not(.gradient-pink) {
    @apply font-medium;
  }

  /* Cards - Ensure visible borders */
  .card,
  [class*="card"] {
    @apply border border-slate-200 dark:border-slate-700;
  }

  /* Dialogs and Modals */
  .dialog,
  .modal,
  [role="dialog"] {
    @apply bg-white dark:bg-slate-900 border-2 border-slate-300 dark:border-slate-700;
  }

  /* Badges and Pills - High Contrast */
  .badge,
  .pill,
  .status-badge {
    @apply font-semibold;
  }

  /* Status Colors - High Contrast */
  .status-active {
    @apply bg-emerald-100 dark:bg-emerald-900/40 text-emerald-900 dark:text-emerald-100 border-2 border-emerald-400 dark:border-emerald-500 font-semibold;
  }

  .status-inactive {
    @apply bg-red-100 dark:bg-red-900/40 text-red-900 dark:text-red-100 border-2 border-red-400 dark:border-red-500 font-semibold;
  }

  .status-pending {
    @apply bg-amber-100 dark:bg-amber-900/40 text-amber-900 dark:text-amber-100 border-2 border-amber-400 dark:border-amber-500 font-semibold;
  }

  .status-approved {
    @apply bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100 border-2 border-blue-400 dark:border-blue-500 font-semibold;
  }

  .status-rejected {
    @apply bg-red-100 dark:bg-red-900/40 text-red-900 dark:text-red-100 border-2 border-red-400 dark:border-red-500 font-semibold;
  }

  .status-checked {
    @apply bg-emerald-100 dark:bg-emerald-900/40 text-emerald-900 dark:text-emerald-100 border-2 border-emerald-400 dark:border-emerald-500 font-semibold;
  }

  .status-unchecked {
    @apply bg-amber-100 dark:bg-amber-900/40 text-amber-900 dark:text-amber-100 border-2 border-amber-400 dark:border-amber-500 font-semibold;
  }

  /* Generic status badge styling */
  .status-badge {
    @apply font-semibold px-3 py-1.5 rounded-full text-sm border-2;
  }

  /* All status-related classes get strong contrast */
  .dark [class*="status-"] {
    font-weight: 600 !important;
  }

  /* Text Contrast Utilities */
  .text-high-contrast {
    @apply text-slate-900 dark:text-slate-50;
  }

  .text-medium-contrast {
    @apply text-slate-700 dark:text-slate-300;
  }

  .text-low-contrast {
    @apply text-slate-600 dark:text-slate-400;
  }

  /* Border Utilities */
  .border-visible {
    @apply border-2 border-slate-300 dark:border-slate-600;
  }

  .border-subtle {
    @apply border border-slate-200 dark:border-slate-700;
  }

  /* Ensure all text is readable */
  body * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Fix any white on white or black on black issues */
  .bg-white * {
    color: inherit;
  }

  .dark .bg-slate-900 * {
    color: inherit;
  }

  /* Force dark backgrounds in dark mode - Override white backgrounds */
  .dark .bg-white,
  .dark .bg-gray-50,
  .dark .bg-gray-100,
  .dark .bg-gray-200 {
    @apply bg-slate-800 !important;
  }

  .dark .bg-gray-300 {
    @apply bg-slate-700 !important;
  }

  /* Override any inline or component-level white backgrounds */
  .dark [class*="bg-white"],
  .dark [class*="bg-gray-50"],
  .dark [class*="bg-gray-100"] {
    background-color: rgb(30 41 59) !important; /* slate-800 */
  }

  .dark [class*="bg-gray-200"] {
    background-color: rgb(51 65 85) !important; /* slate-700 */
  }

  /* Ensure text remains visible on forced dark backgrounds */
  .dark .bg-white *,
  .dark .bg-gray-50 *,
  .dark .bg-gray-100 *,
  .dark .bg-gray-200 * {
    color: rgb(var(--text-primary)) !important;
  }

  /* Prevent light text on light backgrounds */
  .dark .text-gray-400,
  .dark .text-gray-500,
  .dark .text-gray-600 {
    @apply text-slate-300 !important;
  }

  .dark .text-gray-700,
  .dark .text-gray-800,
  .dark .text-gray-900 {
    @apply text-slate-100 !important;
  }

  /* Ensure headings are always visible */
  .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
    color: rgb(var(--text-primary)) !important;
  }

  /* Ensure labels are visible */
  .dark label {
    color: rgb(var(--text-secondary)) !important;
    font-weight: 600;
  }

  /* Ensure placeholder text is visible */
  .dark ::placeholder {
    color: rgb(var(--text-hint)) !important;
  }

  /* Override any gray borders to match dark theme */
  .dark .border-gray-200,
  .dark .border-gray-300 {
    @apply border-slate-700 !important;
  }

  /* Force dark backgrounds on Paper/Card components (Material-UI) */
  .dark .MuiPaper-root {
    background-color: rgb(30 41 59) !important;
    color: rgb(241 245 249) !important;
  }

  .dark .MuiDialog-paper {
    background-color: rgb(30 41 59) !important;
    border: 2px solid rgb(51 65 85) !important;
  }

  /* Force dark backgrounds on table cells */
  .dark td,
  .dark th {
    background-color: transparent !important;
  }

  .dark tbody tr {
    background-color: transparent !important;
  }

  .dark tbody tr:hover {
    @apply bg-slate-800/50 !important;
  }

  /* Button text contrast */
  .dark button:not(.gradient-purple):not(.gradient-cyan):not(.gradient-success):not(.gradient-warning):not(.gradient-pink):not([class*="bg-purple"]):not([class*="bg-blue"]) {
    color: rgb(var(--text-primary)) !important;
  }

  /* Link visibility */
  .dark a:not([class*="text-"]) {
    color: rgb(var(--primary-purple)) !important;
  }

  .dark a:hover {
    color: rgb(var(--primary-purple-light)) !important;
  }

  /* Improve focus visibility */
  .dark *:focus-visible {
    outline: 2px solid rgb(var(--primary-purple)) !important;
    outline-offset: 2px;
  }

  /* Improve disabled element contrast */
  .dark *:disabled,
  .dark [disabled] {
    opacity: 0.5;
    color: rgb(var(--muted-foreground)) !important;
  }

  /* Ensure error messages are visible */
  .dark .text-red-500,
  .dark .text-red-600 {
    @apply text-red-400 !important;
  }

  /* Ensure success messages are visible */
  .dark .text-green-500,
  .dark .text-green-600 {
    @apply text-green-400 !important;
  }

  /* Ensure warning messages are visible */
  .dark .text-yellow-500,
  .dark .text-yellow-600,
  .dark .text-amber-500 {
    @apply text-yellow-400 !important;
  }

  /* Force better contrast for any remaining problematic color combinations */
  .dark .text-slate-400,
  .dark .text-slate-500 {
    @apply text-slate-300 !important;
  }

  .dark .text-slate-600,
  .dark .text-slate-700 {
    @apply text-slate-200 !important;
  }
}
